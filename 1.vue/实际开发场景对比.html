<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实际开发场景对比</title>
    <style>
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            min-height: 100vh;
            color: white;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            gap: 30px;
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 40px;
            background: linear-gradient(45deg, #60a5fa, #34d399);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .scenario {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .scenario-title {
            font-size: 1.6em;
            margin-bottom: 20px;
            color: #fbbf24;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .code-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .code-block {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid;
            position: relative;
        }
        .vue-block {
            border-left-color: #10b981;
        }
        .js-block {
            border-left-color: #f59e0b;
        }
        .code-header {
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .vue-header {
            color: #34d399;
        }
        .js-header {
            color: #fbbf24;
        }
        pre {
            margin: 0;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 13px;
            line-height: 1.6;
            overflow-x: auto;
        }
        .highlight {
            background: rgba(96, 165, 250, 0.2);
            padding: 2px 4px;
            border-radius: 4px;
        }
        .demo-area {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .demo-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        button {
            padding: 10px 16px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }
        .vue-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        .js-btn {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }
        .reset-btn {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .demo-result {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 15px;
            min-height: 100px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            overflow: hidden;
        }
        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .comparison-table th {
            background: rgba(255,255,255,0.1);
            font-weight: bold;
        }
        .pro { color: #34d399; }
        .con { color: #f87171; }
        .neutral { color: #fbbf24; }
        
        @media (max-width: 768px) {
            .code-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 实际开发场景对比</h1>
        
        <!-- 场景1: 购物车功能 -->
        <div class="scenario">
            <div class="scenario-title">
                🛒 场景1: 购物车功能
            </div>
            
            <div class="code-comparison">
                <div class="code-block vue-block">
                    <div class="code-header vue-header">
                        📱 Vue.js 实现
                    </div>
                    <pre><code>&lt;template&gt;
  &lt;div class="cart"&gt;
    &lt;h3&gt;购物车 ({{ totalItems }}件)&lt;/h3&gt;
    &lt;div v-if="<span class="highlight">cart.length === 0</span>" class="empty"&gt;
      购物车为空
    &lt;/div&gt;
    &lt;div v-else&gt;
      &lt;div v-for="<span class="highlight">item in cart</span>" :key="item.id" class="item"&gt;
        &lt;span&gt;{{ item.name }}&lt;/span&gt;
        &lt;span&gt;¥{{ item.price }}&lt;/span&gt;
        &lt;button <span class="highlight">@click="removeItem(item.id)"</span>&gt;删除&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class="total"&gt;
        总计: ¥{{ <span class="highlight">totalPrice</span> }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      cart: [
        {id: 1, name: 'iPhone', price: 6999},
        {id: 2, name: 'iPad', price: 3999}
      ]
    }
  },
  <span class="highlight">computed: {
    totalItems() {
      return this.cart.length;
    },
    totalPrice() {
      return this.cart.reduce((sum, item) => 
        sum + item.price, 0);
    }
  },</span>
  methods: {
    removeItem(id) {
      this.cart = this.cart.filter(item => item.id !== id);
    }
  }
}
&lt;/script&gt;</code></pre>
                </div>
                
                <div class="code-block js-block">
                    <div class="code-header js-header">
                        ⚙️ 原生JavaScript实现
                    </div>
                    <pre><code>class ShoppingCart {
  constructor() {
    this.cart = [
      {id: 1, name: 'iPhone', price: 6999},
      {id: 2, name: 'iPad', price: 3999}
    ];
    this.container = document.getElementById('cart');
    <span class="highlight">this.render();</span>
  }

  <span class="highlight">render() {
    // 清空容器
    this.container.innerHTML = '';
    
    // 创建标题
    const title = document.createElement('h3');
    title.textContent = `购物车 (${this.cart.length}件)`;
    this.container.appendChild(title);</span>

    if (this.cart.length === 0) {
      const empty = document.createElement('div');
      empty.className = 'empty';
      empty.textContent = '购物车为空';
      this.container.appendChild(empty);
    } else {
      // 渲染每个商品
      <span class="highlight">this.cart.forEach(item => {
        const itemDiv = document.createElement('div');
        itemDiv.className = 'item';
        
        const name = document.createElement('span');
        name.textContent = item.name;
        
        const price = document.createElement('span');
        price.textContent = `¥${item.price}`;
        
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.addEventListener('click', () => {
          this.removeItem(item.id);
        });
        
        itemDiv.appendChild(name);
        itemDiv.appendChild(price);
        itemDiv.appendChild(deleteBtn);
        this.container.appendChild(itemDiv);
      });</span>

      // 显示总计
      const total = document.createElement('div');
      total.className = 'total';
      const totalPrice = this.cart.reduce((sum, item) => 
        sum + item.price, 0);
      total.textContent = `总计: ¥${totalPrice}`;
      this.container.appendChild(total);
    }
  }

  removeItem(id) {
    this.cart = this.cart.filter(item => item.id !== id);
    <span class="highlight">this.render(); // 手动重新渲染</span>
  }
}

// 初始化
const cartApp = new ShoppingCart();</code></pre>
                </div>
            </div>
            
            <div class="demo-area">
                <div class="demo-controls">
                    <button class="vue-btn" onclick="simulateVueCart()">Vue风格购物车</button>
                    <button class="js-btn" onclick="simulateJSCart()">JS风格购物车</button>
                    <button class="reset-btn" onclick="resetCart()">重置购物车</button>
                </div>
                <div class="demo-result" id="cart-demo">
                    点击上方按钮体验不同实现方式...
                </div>
            </div>
        </div>

        <!-- 场景2: 表单验证 -->
        <div class="scenario">
            <div class="scenario-title">
                📝 场景2: 表单验证
            </div>
            
            <div class="code-comparison">
                <div class="code-block vue-block">
                    <div class="code-header vue-header">
                        📱 Vue.js 表单验证
                    </div>
                    <pre><code>&lt;template&gt;
  &lt;form <span class="highlight">@submit.prevent="submitForm"</span>&gt;
    &lt;div&gt;
      &lt;input 
        <span class="highlight">v-model="form.email"</span>
        type="email" 
        placeholder="邮箱"
        :class="{ error: <span class="highlight">emailError</span> }"
      /&gt;
      &lt;span v-if="<span class="highlight">emailError</span>" class="error-msg"&gt;
        {{ emailError }}
      &lt;/span&gt;
    &lt;/div&gt;
    
    &lt;div&gt;
      &lt;input 
        <span class="highlight">v-model="form.password"</span>
        type="password" 
        placeholder="密码"
        :class="{ error: <span class="highlight">passwordError</span> }"
      /&gt;
      &lt;span v-if="<span class="highlight">passwordError</span>" class="error-msg"&gt;
        {{ passwordError }}
      &lt;/span&gt;
    &lt;/div&gt;
    
    &lt;button type="submit" :disabled="<span class="highlight">!isFormValid</span>"&gt;
      提交
    &lt;/button&gt;
  &lt;/form&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      form: {
        email: '',
        password: ''
      }
    }
  },
  <span class="highlight">computed: {
    emailError() {
      if (!this.form.email) return '邮箱不能为空';
      if (!/\S+@\S+\.\S+/.test(this.form.email)) {
        return '邮箱格式不正确';
      }
      return '';
    },
    passwordError() {
      if (!this.form.password) return '密码不能为空';
      if (this.form.password.length &lt; 6) {
        return '密码至少6位';
      }
      return '';
    },
    isFormValid() {
      return !this.emailError && !this.passwordError;
    }
  },</span>
  methods: {
    submitForm() {
      if (this.isFormValid) {
        console.log('表单提交:', this.form);
      }
    }
  }
}
&lt;/script&gt;</code></pre>
                </div>
                
                <div class="code-block js-block">
                    <div class="code-header js-header">
                        ⚙️ 原生JavaScript表单验证
                    </div>
                    <pre><code>class FormValidator {
  constructor() {
    this.form = {
      email: '',
      password: ''
    };
    
    this.emailInput = document.getElementById('email');
    this.passwordInput = document.getElementById('password');
    this.submitBtn = document.getElementById('submit');
    this.formElement = document.getElementById('form');
    
    <span class="highlight">this.bindEvents();
    this.updateUI();</span>
  }

  <span class="highlight">bindEvents() {
    // 监听输入变化
    this.emailInput.addEventListener('input', (e) => {
      this.form.email = e.target.value;
      this.validateAndUpdate();
    });
    
    this.passwordInput.addEventListener('input', (e) => {
      this.form.password = e.target.value;
      this.validateAndUpdate();
    });
    
    // 监听表单提交
    this.formElement.addEventListener('submit', (e) => {
      e.preventDefault();
      this.submitForm();
    });
  }</span>

  validateEmail() {
    if (!this.form.email) return '邮箱不能为空';
    if (!/\S+@\S+\.\S+/.test(this.form.email)) {
      return '邮箱格式不正确';
    }
    return '';
  }

  validatePassword() {
    if (!this.form.password) return '密码不能为空';
    if (this.form.password.length < 6) {
      return '密码至少6位';
    }
    return '';
  }

  <span class="highlight">validateAndUpdate() {
    const emailError = this.validateEmail();
    const passwordError = this.validatePassword();
    
    // 更新错误显示
    this.updateError('email', emailError);
    this.updateError('password', passwordError);
    
    // 更新提交按钮状态
    const isValid = !emailError && !passwordError;
    this.submitBtn.disabled = !isValid;
  }

  updateError(field, error) {
    const input = document.getElementById(field);
    const errorSpan = document.getElementById(field + '-error');
    
    if (error) {
      input.classList.add('error');
      errorSpan.textContent = error;
      errorSpan.style.display = 'block';
    } else {
      input.classList.remove('error');
      errorSpan.style.display = 'none';
    }
  }</span>

  submitForm() {
    if (!this.validateEmail() && !this.validatePassword()) {
      console.log('表单提交:', this.form);
    }
  }
  
  updateUI() {
    this.emailInput.value = this.form.email;
    this.passwordInput.value = this.form.password;
    <span class="highlight">this.validateAndUpdate();</span>
  }
}

// 初始化
const validator = new FormValidator();</code></pre>
                </div>
            </div>
        </div>

        <!-- 对比总结表 -->
        <div class="scenario">
            <div class="scenario-title">
                📊 开发效率对比总结
            </div>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>对比维度</th>
                        <th>Vue.js</th>
                        <th>原生JavaScript</th>
                        <th>说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>代码量</strong></td>
                        <td class="pro">少 (约50-70%)</td>
                        <td class="con">多</td>
                        <td>Vue声明式语法更简洁</td>
                    </tr>
                    <tr>
                        <td><strong>开发速度</strong></td>
                        <td class="pro">快</td>
                        <td class="con">慢</td>
                        <td>Vue减少重复代码和手动DOM操作</td>
                    </tr>
                    <tr>
                        <td><strong>维护性</strong></td>
                        <td class="pro">高</td>
                        <td class="neutral">中</td>
                        <td>Vue模板与逻辑分离，组件化</td>
                    </tr>
                    <tr>
                        <td><strong>学习成本</strong></td>
                        <td class="neutral">中等</td>
                        <td class="pro">低</td>
                        <td>需要学习Vue特有概念和API</td>
                    </tr>
                    <tr>
                        <td><strong>运行性能</strong></td>
                        <td class="neutral">良好</td>
                        <td class="pro">最优</td>
                        <td>框架有开销，但虚拟DOM优化了更新</td>
                    </tr>
                    <tr>
                        <td><strong>包大小</strong></td>
                        <td class="con">大 (~30KB)</td>
                        <td class="pro">0</td>
                        <td>需要引入框架文件</td>
                    </tr>
                    <tr>
                        <td><strong>调试难度</strong></td>
                        <td class="neutral">中等</td>
                        <td class="pro">低</td>
                        <td>Vue DevTools帮助，但有抽象层</td>
                    </tr>
                    <tr>
                        <td><strong>生态系统</strong></td>
                        <td class="pro">丰富</td>
                        <td class="neutral">基础</td>
                        <td>Vue有路由、状态管理等配套工具</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 选择建议 -->
        <div class="scenario">
            <div class="scenario-title">
                💡 技术选择建议
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #10b981;">
                    <h4 style="color: #34d399; margin-top: 0;">选择Vue的场景：</h4>
                    <ul>
                        <li>复杂的单页应用(SPA)</li>
                        <li>需要频繁的数据更新</li>
                        <li>团队协作开发</li>
                        <li>有组件复用需求</li>
                        <li>注重开发效率</li>
                        <li>需要完整的生态系统</li>
                    </ul>
                </div>
                
                <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #f59e0b;">
                    <h4 style="color: #fbbf24; margin-top: 0;">选择原生JS的场景：</h4>
                    <ul>
                        <li>简单的网页交互</li>
                        <li>对性能要求极高</li>
                        <li>包大小限制严格</li>
                        <li>学习前端基础</li>
                        <li>第三方库集成</li>
                        <li>已有项目增强功能</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        let cartState = {
            items: [
                {id: 1, name: 'iPhone 15', price: 6999},
                {id: 2, name: 'MacBook Pro', price: 12999},
                {id: 3, name: 'AirPods', price: 1299}
            ]
        };

        function simulateVueCart() {
            const demo = document.getElementById('cart-demo');
            const total = cartState.items.reduce((sum, item) => sum + item.price, 0);
            
            demo.innerHTML = `
                <div style="background: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #10b981;">
                    <h4 style="color: #34d399; margin: 0 0 15px 0;">🚀 Vue风格购物车</h4>
                    <div style="display: grid; gap: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 6px;">
                            <strong>购物车商品数: ${cartState.items.length}</strong>
                            <strong style="color: #34d399;">总计: ¥${total.toLocaleString()}</strong>
                        </div>
                        ${cartState.items.map(item => `
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(0,0,0,0.2); border-radius: 4px;">
                                <span>${item.name}</span>
                                <span>¥${item.price.toLocaleString()}</span>
                                <button onclick="removeItemVue(${item.id})" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer;">删除</button>
                            </div>
                        `).join('')}
                    </div>
                    <div style="margin-top: 15px; padding: 10px; background: rgba(52, 211, 153, 0.1); border-radius: 6px;">
                        <small style="color: #6ee7b7;">✨ Vue特点: 声明式模板，自动响应式更新，计算属性自动重算总价</small>
                    </div>
                </div>
            `;
        }

        function simulateJSCart() {
            const demo = document.getElementById('cart-demo');
            
            // 模拟原生JS的手动DOM操作过程
            demo.innerHTML = '<div style="color: #fbbf24;">正在手动创建DOM元素...</div>';
            
            setTimeout(() => {
                const total = cartState.items.reduce((sum, item) => sum + item.price, 0);
                
                demo.innerHTML = `
                    <div style="background: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <h4 style="color: #fbbf24; margin: 0 0 15px 0;">⚙️ 原生JS购物车</h4>
                        <div style="display: grid; gap: 10px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 6px;">
                                <strong>购物车商品数: ${cartState.items.length}</strong>
                                <strong style="color: #fbbf24;">总计: ¥${total.toLocaleString()}</strong>
                            </div>
                            ${cartState.items.map(item => `
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(0,0,0,0.2); border-radius: 4px;">
                                    <span>${item.name}</span>
                                    <span>¥${item.price.toLocaleString()}</span>
                                    <button onclick="removeItemJS(${item.id})" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer;">删除</button>
                                </div>
                            `).join('')}
                        </div>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(245, 158, 11, 0.1); border-radius: 6px;">
                            <small style="color: #fcd34d;">🔧 JS特点: 命令式操作，手动创建每个DOM元素，手动计算和更新显示</small>
                        </div>
                    </div>
                `;
            }, 500);
        }

        function removeItemVue(id) {
            cartState.items = cartState.items.filter(item => item.id !== id);
            simulateVueCart();
            
            // 模拟Vue的响应式更新提示
            const demo = document.getElementById('cart-demo');
            const notification = document.createElement('div');
            notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 10px; border-radius: 6px; z-index: 1000;';
            notification.textContent = '✅ Vue自动检测到数据变化并更新UI';
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 2000);
        }

        function removeItemJS(id) {
            cartState.items = cartState.items.filter(item => item.id !== id);
            
            // 模拟JS需要手动重新渲染
            const demo = document.getElementById('cart-demo');
            demo.innerHTML = '<div style="color: #fbbf24;">手动重新渲染DOM...</div>';
            
            setTimeout(() => {
                simulateJSCart();
                
                const notification = document.createElement('div');
                notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #f59e0b; color: white; padding: 10px; border-radius: 6px; z-index: 1000;';
                notification.textContent = '🔧 JS需要手动调用render()重新构建DOM';
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 2000);
            }, 300);
        }

        function resetCart() {
            cartState.items = [
                {id: 1, name: 'iPhone 15', price: 6999},
                {id: 2, name: 'MacBook Pro', price: 12999},
                {id: 3, name: 'AirPods', price: 1299}
            ];
            
            const demo = document.getElementById('cart-demo');
            demo.innerHTML = '<div style="text-align: center; padding: 40px; color: #94a3b8;">购物车已重置，点击上方按钮体验不同实现方式...</div>';
        }

        // 初始化
        resetCart();
    </script>
</body>
</html>